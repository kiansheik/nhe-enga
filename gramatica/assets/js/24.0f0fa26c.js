(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{267:function(e,t,o){},277:function(e,t,o){"use strict";o(267)},290:function(e,t,o){"use strict";o.r(t);o(89);var n={name:"py",data(){let e={pyodideReady:!1},t=this.$root.$refs.layout;if(t&&t.$children.length>0){let o=t.$children[0];o.$refs.pyLoader?e=o.$refs.pyLoader:console.log("no pyLoader")}else console.log("no layoutComponent");return{otherComponentLoaded:e.pyodideReady,pyLoader:e,pyRendered:!1,origText:this.$slots.default[0].text,tText:"rendering..."}},methods:{handleMessage(e){"processBlockResponse"===e.data.command&&e.data.pre_html===this.origText&&(this.tText=e.data.resp_html,this.pyRendered=!0)},updateContent(){let e,t=this.getCurrentComponentIndex();if(t<0)return;console.log("comps "+t+": "+this.countComponents()+" "+this.origText),this.tText=this.origText,this.pyLoader&&this.pyLoader.$refs&&this.pyLoader.$refs.pyodideiframe?e=this.pyLoader.$refs.pyodideiframe:console.log("no iframe");let o={command:"processBlock",orderid:t,html:this.origText};e?e.contentWindow.postMessage(o,"*"):console.log("no iframe 2")},getAllPyComponents(){let e=[];const t=o=>{"py"===o.$options.name&&e.push(o.$el);for(let e of o.$children)t(e)};return t(this.$root),e},getCurrentComponentIndex(){return this.getAllPyComponents().indexOf(this.$el)},countComponents(){let e=0;const t=o=>{"py"===o.$options.name&&e++;for(let e of o.$children)t(e)};return t(this.$root),e/2}},computed:{pyodideReady(){let e={pyodideReady:!1},t=this.$root.$refs.layout;if(t&&t.$children.length>0){let o=t.$children[0];o.$refs.pyLoader&&(e=o.$refs.pyLoader)}return e.pyodideReady}},watch:{pyodideReady(e,t){e&&!t&&this.updateContent()}},mounted(){window.addEventListener("message",this.handleMessage),this.pyodideReady&&this.updateContent()},beforeDestroy(){window.removeEventListener("message",this.handleMessage)}},s=(o(277),o(14)),r=Object(s.a)(n,(function(){return(0,this._self._c)("div",{staticClass:"python-output",domProps:{textContent:this._s(this.tText)}})}),[],!1,null,null,null);t.default=r.exports}}]);