(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{269:function(e,t,o){},279:function(e,t,o){"use strict";o(269)},295:function(e,t,o){"use strict";o.r(t);var s={name:"py",data(){let e={pyodideReady:!1},t=this.$root.$refs.layout;if(t&&t.$children.length>0){let o=t.$children[0];o.$refs.pyLoader?e=o.$refs.pyLoader:console.log("no pyLoader")}else console.log("no layoutComponent");return{pyLoader:e,pyRendered:!1,hash:Math.random().toString(36),evBus:e.evBus,origText:this.$slots.default[0].text,tText:"rendering..."}},methods:{handleMessage(e){"processBlockResponse"===e.data.command&&e.data.pre_html===this.origText&&e.data.hash===this.hash&&(this.tText=e.data.resp_html,this.pyRendered=!0)},updateContent(){let e,t=this.getCurrentComponentIndex();if(t<0)return;this.tText=this.origText,this.pyLoader&&this.pyLoader.$refs&&this.pyLoader.$refs.pyodideiframe?e=this.pyLoader.$refs.pyodideiframe:console.log("no iframe");let o={command:"processBlock",orderid:t,html:this.origText,hash:this.hash};e?e.contentWindow.postMessage(o,"*"):console.log("no iframe 2")},getAllPyComponents:()=>Array.from(document.querySelectorAll(".python-output")),getCurrentComponentIndex(){return this.getAllPyComponents().indexOf(this.$el)},countComponents(){return this.getAllPyComponents().length},alertReady(){this.getCurrentComponentIndex()>=0&&this.evBus.$emit("pyReadyRender",this,this.getCurrentComponentIndex())}},computed:{pyodideReady(){let e={pyodideReady:!1},t=this.$root.$refs.layout;if(t&&t.$children.length>0){let o=t.$children[0];o.$refs.pyLoader&&(e=o.$refs.pyLoader)}return e.pyodideReady}},mounted(){window.addEventListener("message",this.handleMessage),this.alertReady()},beforeDestroy(){window.removeEventListener("message",this.handleMessage),this.pyLoader.elems=[]}},n=(o(279),o(15)),r=Object(n.a)(s,(function(){return(0,this._self._c)("div",{staticClass:"python-output",attrs:{hash:this.hash},domProps:{innerHTML:this._s(this.tText)}})}),[],!1,null,null,null);t.default=r.exports}}]);